<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Needle Army Trainer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        body {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            flex-direction: column;
            width: 100vw;
            height: 100vh;
            font-family: VT323;
            padding: 0%;
            margin: 0;
            gap: 30px;
        }
        .cursor{
            background-color: red;
        }
        h1{
            width: 100%;
            background-color: #204056;
            margin: 0%;
            padding-bottom: 10px;
            padding-top: 10px;
            padding-left: 50px;
            border-bottom: 5px solid black;
            color: aliceblue;

        }
        .mainCtn{
            display: flex;
            justify-content: flex-start;
            align-items: center;
            flex-direction: column;
        }
        .BolhasCtn {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px;
            border: 5px solid black;
            padding: 15px;
            border-radius: 5px;
            height: 80px;
            width: 100%;
            background-color: #204056a9;
        }
        .hidden {
            width: 50px;
            height: 50px;
            background-color: lightblue;
            visibility: hidden;
            text-align: center;
            line-height: 50px;
            border-radius: 50%;
        }
        .visible {
            visibility: visible;
        }
        #contador {
            margin-top: 50px;
            font-size: 25px
        }
        #timer {
            margin-top: 20px;
            font-size: 25px

        }
        .bolha{
            visibility: visible;
            width: 50px;
            height: 50px;
            animation: pop 1s infinite ;
            background-image: url("/bubble_6.png");
            background-repeat: no-repeat;
            background-size: cover;
            

        }
        .bolha:hover{
            filter: blur(1px);
        }
        @keyframes pop {
            0%{
                transform: scale(1);

            }
            50%{
                transform: scale(1.3);
            }
            100%{
                transform: scale(1);
            }
        }
        #result {
            margin-top: 30px;
            max-width:  350px;
            border: 5px solid black;
            padding: 20px;
            border-radius: 5px;
            background-color: #204056;
            color: aliceblue;
        }
    </style>
</head>
<body>
    <script>
        let cont = 0; // Contador de pontos
        let timeLeft = 10; // Tempo do timer em segundos (30 segundos)
        let gameOver = false;

        function click(e) {
            console.log("sss")
            if (!gameOver) {
                cont++; // Incrementa o contador
                const contElement = document.getElementById("contador");
                contElement.innerText = "pontos: " + cont;
            }
            e.target.className="hidden"
        }

        // Função para o timer
        function updateTimer() {
            // cont=11
            const resultElement = document.getElementById("result");

            if (timeLeft > 0 && !gameOver) {
                timeLeft--; // Decrementa o tempo
                const timerElement = document.getElementById("timer");
                timerElement.innerText = "Tempo: " + timeLeft + "s";
            } else if (timeLeft === 0 && !gameOver) {
                gameOver = true; // Jogo acabou
                if (cont < 9) {
                    resultElement.innerText = "Tempo esgotado! Você não fez pontos suficientes";
                } 
            }
            if (cont > 9) {
                resultElement.innerText = "Parabens você é um bom soldado";
            } 
        }

        // Atualiza o timer a cada segundo
        setInterval(updateTimer, 1000);
    </script>
    <h1>
        Needle Army Trainer
    </h1>
    <div class="mainCtn">
        
        <div id="BolhasCtn"  class="BolhasCtn">
            <div class="bolha" id="1"></div>
            <div class="hidden" id="2"></div>
            <div class="hidden" id="3"></div>
            <div class="hidden" id="4"></div>
            <div class="hidden" id="5"></div>
            <div class="hidden" id="6"></div>
            <div class="hidden" id="7"></div>
            <div class="hidden" id="8"></div>
            <div class="hidden" id="9"></div>
        </div>
        <div id="contador">
            pontos: 0
        </div>
        <div id="timer">
            Tempo: 10s
        </div>
        <div id="result">
            Faça 10 pontos no tempo para passar no treinamento
        </div>
    </div>
    

    <script>
        setInterval(() => {
            if (!gameOver) {
                const id = parseInt(Math.random() * 9 + 1); // Gera um número aleatório de 1 a 9
                let div = document.getElementById(id);
                let bCtn = document.getElementById("BolhasCtn");

                [...bCtn.children].forEach(bolha => {
                    bolha.className = "hidden"; // Esconde todas as bolhas
                });
                div.className = "bolha"; // Torna a bolha visível
            }
        }, 800);
    </script>
    <script>
                        let bCtn = document.getElementById("BolhasCtn");

         [...bCtn.children].forEach(bolha => {
                    bolha.onclick =click
            
                });
    </script>
</body>
</html>
